{"title":"encode-handheld.pl v5.2 with binaries for Linux and Mac OS X","uid":5212197,"size":11467581,"categoryP":"applications","categoryS":"unix","magnet":"?xt=urn:btih:bdb1586db04b1563aa3a8289a08242ffaa3b1f90&amp;dn=encode-handheld.pl+v5.2+with+binaries+for+Linux+and+Mac+OS+X&amp;tr=udp%3A%2F%2Ftracker.openbittorrent.com%3A80&amp;tr=udp%3A%2F%2Fopen.demonii.com%3A1337&amp;tr=udp%3A%2F%2Ftracker.coppersurfer.tk%3A6969&amp;tr=udp%3A%2F%2Fexodus.desync.com%3A6969","seeders":0,"leechers":1,"uploader":"HolyRoses","files":1,"time":1260643614,"description":"New in 5.2\n\ntweaks to help output\nwas searching for AtomicParsley with all lowercase, changed.\nIncluded iTunMOVI-1.1.pl to add new advanced tagging to files.  (Not yet incorporated into encode-handheld.pl as it requires switching to Getopt::Long;)\nrenamed psp720 to psp480p in support for psp576p\ncorrected psp640 (was missing refs)\nadded: PSP 720x576 16:9 &amp; 4:3 encoder. (use psp768 for 4:3 and psp576p for 16:9)\n(believe you need psp firmware 5.50 and above to use the new PAL 720x576 sizing)\nSearch for dcadec instead of dtsdec\ndcadec and a52dec were being called by name instead of variable, corrected\nDisable wpredp if present in ffmpeg\nadded support for mbtree if present in ffmpeg\nRemoved reliance on unix date command for formatting the iTunes year. (fixed Mac OS X year problem)\n\n\n-------------------------------------\n\nNow includes binaries for Mac OS X.  Binaries were compiled on Mac OS X Snow Leopard on Intel i386 platform.  ffmpeg, mkvmerge, mkvextract are not compiled statically like they are for Linux.  I have included them in tarball fashion so when you unpack the tarball you will get the needed dynamic libraries.\n\nMac binary versions:\n\nffmpeg SVN-r20797\nx264 0.80.1373 4322f63\nmkvmerge v2.9.9 ('Tutu') built on Dec  7 2009 01:07:42\nAtomicParsley wez commit 31.\n\n\n\n-HR\n\n-------------------------------------\n\nSubtitle HOWTO\n\nYou can use the following Mac OS X software to setup SubTitles (soft subs) &lt;a href=&quot;\nhttp://code.google.com/p/subler/&quot; rel=&quot;nofollow&quot; target=&quot;_NEW&quot;&gt;\nhttp://code.google.com/p/subler/&lt;/a&gt; &lt;a href=&quot;\nhttp://www.bitfield.se/isubtitle/index.html&quot; rel=&quot;nofollow&quot; target=&quot;_NEW&quot;&gt;\nhttp://www.bitfield.se/isubtitle/index.html&lt;/a&gt;\n\nYou can also do it with the latest CVS version of gpac.\n\nHere is how to get get gpac and compile and use it.\n\nYou need Xcode to compile it on Mac OS, get it from below url in downloads, get the proper Xcode for your version of MacOS.  Of couse you dont need Xcode if you are compiling on Linux.  On Snow Leopard get xcode321_10m2003_developerdvd.dmg &lt;a href=&quot;\nhttp://connect.apple.com/&quot; rel=&quot;nofollow&quot; target=&quot;_NEW&quot;&gt;\nhttp://connect.apple.com/&lt;/a&gt;\n\ncvs -d:pserver:&lt;a class=&quot;__cf_email__&quot; href=&quot;/cdn-cgi/l/email-protection&quot; data-cfemail=&quot;bedfd0d1d0c7d3d1cbcdfed9cedfdd90ddc8cd90cdd1cbccdddbd8d1ccd9db90d0dbca&quot;&gt;[email&amp;#160;protected]&lt;/a&gt;&lt;script cf-hash='f9e31' type=&quot;text/javascript&quot;&gt;\n/* &lt;![CDATA[ */!function(){try{var t=&quot;currentScript&quot;in document?document.currentScript:function(){for(var t=document.getElementsByTagName(&quot;script&quot;),e=t.length;e--;)if(t[e].getAttribute(&quot;cf-hash&quot;))return t[e]}();if(t&amp;&amp;t.previousSibling){var e,r,n,i,c=t.previousSibling,a=c.getAttribute(&quot;data-cfemail&quot;);if(a){for(e=&quot;&quot;,r=parseInt(a.substr(0,2),16),n=2;a.length-n;n+=2)i=parseInt(a.substr(n,2),16)^r,e+=String.fromCharCode(i);e=document.createTextNode(e),c.parentNode.replaceChild(e,c)}}}catch(u){}}();/* ]]&gt; */&lt;/script&gt;:/cvsroot/gpac login\n(just press enter when it asks for password)\ncvs -z3 -d:pserver:&lt;a class=&quot;__cf_email__&quot; href=&quot;/cdn-cgi/l/email-protection&quot; data-cfemail=&quot;9dfcf3f2f3e4f0f2e8eeddfaedfcfeb3feebeeb3eef2e8effef8fbf2effaf8b3f3f8e9&quot;&gt;[email&amp;#160;protected]&lt;/a&gt;&lt;script cf-hash='f9e31' type=&quot;text/javascript&quot;&gt;\n/* &lt;![CDATA[ */!function(){try{var t=&quot;currentScript&quot;in document?document.currentScript:function(){for(var t=document.getElementsByTagName(&quot;script&quot;),e=t.length;e--;)if(t[e].getAttribute(&quot;cf-hash&quot;))return t[e]}();if(t&amp;&amp;t.previousSibling){var e,r,n,i,c=t.previousSibling,a=c.getAttribute(&quot;data-cfemail&quot;);if(a){for(e=&quot;&quot;,r=parseInt(a.substr(0,2),16),n=2;a.length-n;n+=2)i=parseInt(a.substr(n,2),16)^r,e+=String.fromCharCode(i);e=document.createTextNode(e),c.parentNode.replaceChild(e,c)}}}catch(u){}}();/* ]]&gt; */&lt;/script&gt;:/cvsroot/gpac co -P gpac\n\ncd gpac\nsudo ./configure\nsudo make apps\nsudo make install\nsudo install  -m 755 bin/gcc/MP4Box &quot;/usr/local/bin&quot;\n(some reason it doesn't install MP4Box on make install, its commented out)\n\nOK, now you have MP4Box\n\n(example SRT subtitle add for District 9 for the PiZ release by HR.)\n(These commands are basically the exact same commands subler is running)\n\nMP4Box -add m-district9-720p.srt:lang=eng:layout=0x60x0x-1:group=2 District 9.m4v\n\neach subsequent sub should be added disabled (some reason if they aren't then subs is disabled)\n\nMP4Box -add District 9.srt:lang=afr:layout=0x60x0x-1:group=2:disable District 9.m4v\n\nthe 60 is the height of the characters.  (this is all you should modify if anything, or modify lang if you are adding something other than english)\n\nThis is the breakdown from MP4Box help.\n\n &quot;:group=G&quot;           adds the track as part of the G alternate group.\n                         If G is 0, the first available GroupID will be picked.\n &quot;:lang=LAN&quot;          sets imported media language code\n &quot;:layout=WxHxXxY&quot;    specifies the track layout\n                         - if W (resp H) = 0, the max width (resp height) of\n                         the tracks in the file are used.\n                         - if Y=-1, the layout is moved to the bottom of the\n                         track area\n\nAfter adding the subtitle track you will see it now like this:\n\nMP4Box -info 3 District 9.m4v\nTrack # 3 Info - TrackID 3 - TimeScale 1000 - Duration 01:38:45.167\nMedia Info: Language &quot;English&quot; - Type &quot;sbtl:tx3g&quot; - 301 samples\nHandler name: m-district9-720p.srt:lang=eng:layout=0x60x0x-1:group=2 - Imported with GPAC 0.4.6-DEV (build 1)\n3GPP/MPEG-4 Timed Text - Size 480 x 60 - Translation X=0 Y=198 - Layer 0\nAlternate Group ID 2\n\nComputed info from media:\n        Total size 3948 bytes - Total samples duration 5924334 ms\n        Average rate 5 bps - Max Rate 608 bps\n\n-------------------------------------\n\nThe language audio track on HR releases aren't properly set (will be addressed in encode-handheld.pl later)\n\nHere is how to adjust it using MP4Box\n\nMP4Box -lang 2=eng District 9.m4v\n\n(This sets track 2 (audio track) to language english)\n\n\nTo remove a track:\n\nMP4Box -info District 9.m4v\n\nMP4Box -rem &lt;TrackID #&gt;\n\n\nSo basically in sum to fix the audio to english and add the alien/africaan and full english subs we ran 3 commands.\n\nMP4Box -lang 2=eng District 9.m4v\nMP4Box -add m-district9-720p.srt:lang=eng:layout=0x60x0x-1:group=2 District 9.m4v\nMP4Box -add District 9.srt:lang=afr:layout=0x60x0x-1:group=2:disable District 9.m4v\n\nSince subler runs extremely fast it must not be rebuilding the file completely like MP4Box is.  It is also putting the subs on Layer -1 instead of Layer 0 like MP4Box is.  I don't know how it is doing that yet.\n\n\nUPDATE:  You cannot have 2 of the same language type and have it work under Apple TV.  You can also not define one of the tracks as &quot;und&quot;, it wont work.  I defined one as &quot;afr&quot; and one as &quot;eng&quot;.  afr = Afrikaans, but it isnt known to Apple TV, but it does work.\n\nA list of codes is here: &lt;a href=&quot;\nhttp://www.loc.gov/standards/iso639-2/php/code_list.php&quot; rel=&quot;nofollow&quot; target=&quot;_NEW&quot;&gt;\nhttp://www.loc.gov/standards/iso639-2/php/code_list.php&lt;/a&gt;\n\n\nI credit most of this information to the original find here: &lt;a href=&quot;\nhttp://forum.doom9.org/showthread.php?t=147494&quot; rel=&quot;nofollow&quot; target=&quot;_NEW&quot;&gt;\nhttp://forum.doom9.org/showthread.php?t=147494&lt;/a&gt;\n\nwhere I then researched in more depth.\n\n\nIf you don't want MP4Box to do this:\n\nForcing AVC/H264 SAR to 1:1...\nSaving output.m4v: 0.500 secs Interleaving \n\nthen rename your .m4v to .mp4\n\nand change your MP4Box lines to:\n\nMP4Box -add m-district9-720p.srt:lang=eng:layout=0x60x0x-1:group=2:hdlr=&quot;sbtl:tx3g&quot; District 9.mp4\nMP4Box -add District 9.srt:lang=afr:layout=0x60x0x-1:group=2:hdlr=&quot;sbtl:tx3g&quot;:disable District 9.mp4\n\nNotice the added hdlr option.  After running then rename back to .m4v otherwise iTunes/Quicktime does not recognize the subtitles.\n\n\n----\n\nunrelated note, this is a pretty cool list of iTunes atoms. &lt;a href=&quot;\nhttp://code.google.com/p/mp4v2/wiki/iTunesMetadata&quot; rel=&quot;nofollow&quot; target=&quot;_NEW&quot;&gt;\nhttp://code.google.com/p/mp4v2/wiki/iTunesMetadata&lt;/a&gt;\n\n\n---\n\nyou can use this same method for adding additional audio tracks as well.\n\nSomething like this works:\n\nMP4Box -add District 9.m4v#audio:lang=afr:disable District 9-new-testing.mp4\n\nMake sure your you set the additional tracks to disable.  You could use this to add an additional 5.1 audio track.  I would guess this would still be xbox 360 compliant as long as the main track is stereo and the remaining tracks are set to disabled.  You have to change the language code still.\n\nWorks fine in quicktime and itunes and VLC.\n\nTo access the subtitles and additional audio tracks on Apple TV just hold down the pause/play button and a menu will pop up.  Here you can select the tracks you want.\n\n---\n\nill probably make a short script like iTunMOVI.pl to handle adding subtitles and audio tracks, seems the easiest.  Something like:\n\n./add-subtitle.pl --sub=whatever.srt:eng,another.srt:spa --sub=yetanother:fre --file=myfile.m4v --audio=mynewaudio.m4a:spa --print --write\n\n\nAnother update:\n\nApple TV can play 2 subtitles of the same language as long as trak.udta.name has a different value on each track.  By default this is blank.\n\nSubler has the ability to change this, so does &lt;a href=&quot;\nhttp://code.google.com/p/mp4v2/&quot; rel=&quot;nofollow&quot; target=&quot;_NEW&quot;&gt;\nhttp://code.google.com/p/mp4v2/&lt;/a&gt;\n\n\n-HR\n","torrent":{"xt":"urn:btih:bdb1586db04b1563aa3a8289a08242ffaa3b1f90","amp;dn":"encode-handheld.pl+v5.2+with+binaries+for+Linux+and+Mac+OS+X","amp;tr":["udp%3A%2F%2Ftracker.openbittorrent.com%3A80","udp%3A%2F%2Fopen.demonii.com%3A1337","udp%3A%2F%2Ftracker.coppersurfer.tk%3A6969","udp%3A%2F%2Fexodus.desync.com%3A6969"],"infoHash":"bdb1586db04b1563aa3a8289a08242ffaa3b1f90","infoHashBuffer":{"type":"Buffer","data":[189,177,88,109,176,75,21,99,170,58,130,137,160,130,66,255,170,59,31,144]},"announce":[],"urlList":[]}}